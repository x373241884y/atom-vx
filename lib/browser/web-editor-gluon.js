// Generated by CoffeeScript 1.12.0
(function () {
	var WebEditorGluon;

	module.exports = WebEditorGluon = (function () {
		function WebEditorGluon(serializedState) {
			var self;
			console.log(serializedState);
			this.element = document.createElement('iframe');
			this.relocate('https://atom.io/');
			this.element.setAttribute('name', 'disable-x-frame-options');
			self = this;
			this.element.addEventListener('load', function (event) {
				self.title = this.contentDocument.title;
				return atom.notifications.addSuccess(self.title + " has loaded.");
			});
		}

		WebEditorGluon.prototype.relocate = function (source) {
			if (this.element.contentWindow) {
				return this.element.contentWindow.location.href = source;
			} else {
				return this.element.setAttribute('src', source);
			}
		};

		WebEditorGluon.prototype.getTitle = function () {
			return this.title || 'Web View';
		};

		WebEditorGluon.prototype.serialize = function () {
			if (this.element.contentWindow) {
				return this.element.contentWindow.location.href;
			} else {
				return this.element.getAttribute('src');
			}
		};

		WebEditorGluon.prototype.destroy = function () {
			return this.element.remove();
		};

		WebEditorGluon.prototype.getElement = function () {
			return this.element;
		};

		return WebEditorGluon;

	})();

}).call(this);
