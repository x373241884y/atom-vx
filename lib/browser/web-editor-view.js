// Generated by CoffeeScript 1.12.0
(function() {
  var WebEditorView;

  module.exports = WebEditorView = (function() {
    function WebEditorView(serializedState) {
      var self;
      console.log(serializedState);
      this.element = document.createElement('iframe');
      this.relocate('https://www.baidu.com/');
      this.element.setAttribute('name', 'disable-x-frame-options');
      self = this;
      this.element.addEventListener('load', function(event) {
        self.title = this.contentDocument.title;
        return atom.notifications.addSuccess(self.title + " has loaded.");
      });
    }

    WebEditorView.prototype.relocate = function(source) {
      if (this.element.contentWindow) {
        return this.element.contentWindow.location.href = source;
      } else {
        return this.element.setAttribute('src', source);
      }
    };

    WebEditorView.prototype.getTitle = function() {
      return this.title || 'Web View';
    };

    WebEditorView.prototype.serialize = function() {
      if (this.element.contentWindow) {
        return this.element.contentWindow.location.href;
      } else {
        return this.element.getAttribute('src');
      }
    };

    WebEditorView.prototype.destroy = function() {
      return this.element.remove();
    };

    WebEditorView.prototype.getElement = function() {
      return this.element;
    };

    return WebEditorView;

  })();

}).call(this);
